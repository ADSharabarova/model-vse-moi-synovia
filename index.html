<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D-модель с параллакс-вращением</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <style>
        body { 
            margin: 0; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            background-color: transparent; 
            overflow: hidden;
        }
        model-viewer { 
            width: 100%; 
            max-width: 600px; 
            height: 500px; 
            background-color: transparent; 
        }
    </style>
</head>
<body>

    <model-viewer id="viewer"
              src="https://raw.githubusercontent.com/ADSharabarova/model-vse-moi-synovia/main/model/myModel.gltf"
              alt="3D-модель"
              disable-zoom
              disable-tap
              interaction-prompt="none"
              alpha-mode="BLEND"
              lighting="none"
              camera-orbit="90deg 90deg 0deg"> <!-- слегка наклонена вверх по оси X -->
    </model-viewer>

    <script>
        const modelViewer = document.getElementById('viewer');

        let targetX = 0, targetY = 0;
        let currentX = 0, currentY = 0;
        const inertia = 0.1;

        document.addEventListener('mousemove', (event) => {
            const { innerWidth, innerHeight } = window;
            targetX = -(event.clientX / innerWidth - 0.5) * 2;
            targetY = (event.clientY / innerHeight - 0.5) * 2;
        });

        function animate() {
            currentX += (targetX - currentX) * inertia;
            currentY += (targetY - currentY) * inertia;
            // camera-orbit: (theta, phi, radius)
            // theta — вращение вокруг вертикальной оси (Y)
            // phi — вращение вверх-вниз
            modelViewer.setAttribute('camera-orbit', `${100 + currentY * 20}deg ${90 + currentX * 20}deg 0deg`);
            requestAnimationFrame(animate);
        }
        animate();
    </script>

</body>
</html>
